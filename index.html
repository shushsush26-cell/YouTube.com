document.getElementById('messageForm').addEventListener('submit', async function(event) {
    event.preventDefault();

    const form = event.target;
    const formData = new FormData(form);
    const message = formData.get('message');
    const statusDiv = document.getElementById('status');
    const submitBtn = document.getElementById('submitBtn');

    statusDiv.style.display = 'block';
    statusDiv.className = 'loading';
    statusDiv.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è...';
    submitBtn.disabled = true;

    try {
        // –ü–†–Ø–ú–ê–Ø –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram API (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –≤–æ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö)
        const response = await fetch('https://api.telegram.org/bot8591266062:AAEwMbSDWQXYmZ6W9CekGxlnJUqRQIB0v8M/sendMessage', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                chat_id: '6812452143',
                text: `üì® –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Å–∞–π—Ç–∞:\n\n${message}`
            })
        });

        const result = await response.json();

        if (result.ok) {
            statusDiv.textContent = '‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram!';
            statusDiv.className = 'success';
            form.reset();
        } else {
            statusDiv.textContent = '‚ùå –û—à–∏–±–∫–∞: ' + (result.description || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞');
            statusDiv.className = 'error';
        }

    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        statusDiv.textContent = '‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ. –ù—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä.';
        statusDiv.className = 'error';
    }

    statusDiv.style.display = 'block';
    submitBtn.disabled = false;
});
